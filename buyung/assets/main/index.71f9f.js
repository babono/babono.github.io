System.register("chunks:///main.js",["cc"],(function(){"use strict";var t,e,i,n,o,r,a,l,u,s,c;return{setters:[function(p){t=p.cclegacy,e=p._decorator,i=p.AudioSource,n=p.Component,o=p.Sprite,r=p.Prefab,a=p.Label,l=p.Button,u=p.Node,s=p.PhysicsSystem2D,c=p.Contact2DType}],execute:function(){function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function d(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e,i,n){i&&Object.defineProperty(t,e,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function S(t,e,i,n,o){var r={};return Object.keys(n).forEach((function(t){r[t]=n[t]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=i.slice().reverse().reduce((function(i,n){return n(t,e,i)||i}),r),o&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(o):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(t,e,r),r=null),r}var y,b,m,v,_,C,B,P,O;t._RF.push({},"d4e622wO8VBk6dwos7VgBz6","AudioSourceControl",void 0);var w,z=e.ccclass,E=e.property;!function(t){t[t.E_Sound_Fly=0]="E_Sound_Fly",t[t.E_Sound_Score=1]="E_Sound_Score",t[t.E_Sound_Die=2]="E_Sound_Die"}(w||(w={}));var G,T,R,F,A,N,j,M,x,D,L,I=(y=z("AudioSourceControl"),b=E(i),m=E(i),v=E(i),y((B=S((C=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return g(f(e=t.call.apply(t,[this].concat(n))||this),"flySound",B,f(e)),g(f(e),"scoreSound",P,f(e)),g(f(e),"dieSound",O,f(e)),e}d(e,t);var i=e.prototype;return i.start=function(){},i.playSound=function(t){t==w.E_Sound_Fly?this.flySound.play():t==w.E_Sound_Score?this.scoreSound.play():t==w.E_Sound_Die&&this.dieSound.play()},e}(n)).prototype,"flySound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=S(C.prototype,"scoreSound",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=S(C.prototype,"dieSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=C))||_);t._RF.pop(),t._RF.push({},"42430bW8I9AgI4HtMul+aUK","MainControl",void 0);var U,k=e.ccclass,H=e.property;!function(t){t[t.Game_Ready=0]="Game_Ready",t[t.Game_Playing=1]="Game_Playing",t[t.Game_Over=2]="Game_Over"}(U||(U={}));var J,K,V;G=k("MainControl"),T=H(o),R=H(r),F=H(a),A=H(I),G((M=S((j=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return g(f(e=t.call.apply(t,[this].concat(n))||this),"spBg",M,f(e)),g(f(e),"pipePrefab",x,f(e)),p(f(e),"pipe",[null,null,null]),p(f(e),"spGameOver",null),p(f(e),"btnStart",null),g(f(e),"labelScore",D,f(e)),p(f(e),"gameScore",0),p(f(e),"gameStatus",U.Game_Ready),g(f(e),"audioSourceControl",L,f(e)),e}d(e,t);var i=e.prototype;return i.onLoad=function(){this.spGameOver=this.node.getChildByName("GameOver").getComponent(o),this.spGameOver.node.active=!1,this.btnStart=this.node.getChildByName("BtnStart").getComponent(l),this.btnStart.node.on(u.EventType.TOUCH_START,this.touchStartBtn,this)},i.start=function(){s.instance&&s.instance.on(c.BEGIN_CONTACT,this.onBeginContact,this);for(var t=0;t<this.pipe.length;t++){this.pipe[t]=cc.instantiate(this.pipePrefab),this.node.getChildByName("Pipe").addChild(this.pipe[t]);this.pipe[t].setPosition(170+200*t,240*Math.random()-120)}},i.onBeginContact=function(t,e,i){0===t.tag?(console.log("gameOver"),this.spGameOver.node.active=!0,this.btnStart.node.active=!0,this.gameStatus=U.Game_Over,this.audioSourceControl.playSound(w.E_Sound_Die)):1===t.tag&&(this.gameScore++,this.labelScore.string=this.gameScore.toString(),this.audioSourceControl.playSound(w.E_Sound_Score))},i.touchStartBtn=function(){this.btnStart.node.active=!1,this.gameStatus=U.Game_Playing,this.spGameOver.node.active=!1;for(var t=0;t<this.pipe.length;t++){this.pipe[t].setPosition(170+200*t,240*Math.random()-120)}var e=this.node.getChildByName("Bird");e.setPosition(0,0),e.angle=0,this.gameScore=0,this.labelScore.string=this.gameScore.toString()},i.update=function(t){if(this.gameStatus===U.Game_Playing){for(var e=0;e<this.spBg.length;e++)this.spBg[e].node.setPosition(this.spBg[e].node.position.x-1,0),this.spBg[e].node.position.x<=-288&&this.spBg[e].node.setPosition(288,0);for(var i=0;i<this.pipe.length;i++)if(this.pipe[i].setPosition(this.pipe[i].position.x-1,this.pipe[i].position.y),this.pipe[i].position.x<=-170){this.pipe[i].setPosition(430,this.pipe[i].position.y);this.pipe[i].setPosition(this.pipe[i].position.x,240*Math.random()-120)}}},e}(n)).prototype,"spBg",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[null,null]}}),x=S(j.prototype,"pipePrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=S(j.prototype,"labelScore",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=S(j.prototype,"audioSourceControl",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=j));t._RF.pop(),t._RF.push({},"4db60dqniBAFLLz2J3odBJg","BirdControl",void 0);var q,W=e.ccclass,Z=e.property;e.float,W("BirdControl")((V=S((K=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return g(f(e=t.call.apply(t,[this].concat(n))||this),"speed",V,f(e)),p(f(e),"mainControl",null),e}d(e,t);var i=e.prototype;return i.onLoad=function(){console.log(this.node.parent),this.node.parent.on(u.EventType.TOUCH_START,this.onTouchStart,this),this.mainControl=this.node.parent.getComponent("MainControl"),console.log(this.mainControl)},i.start=function(){},i.update=function(t){if(0!=this.mainControl.gameStatus){this.speed-=.05,this.node.setPosition(0,this.node.position.y+this.speed);var e=-this.speed/2*30;e>=30&&(e=30),this.node.angle=-e}},i.onTouchStart=function(t){this.speed=2,this.mainControl.audioSourceControl.playSound(w.E_Sound_Fly)},e}(n)).prototype,"speed",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=K));t._RF.pop(),t._RF.push({},"7921cUsggZIJolmKsaSK/2t","TouchNodeControl",void 0);var Q=e.ccclass;e.property,Q("TouchNodeControl")(q=function(t){function e(){return t.apply(this,arguments)||this}return d(e,t),e}(n));t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///main.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});